@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Open+Sans:wght@300;400;500;600;700&display=swap');

:root {
 /* =================================================================== */
 /* == 1. PALETA PRIMITIVA (Tus colores y valores base) == */
 /* =================================================================== */

 /* Fuentes */
 --font-heading: 'Montserrat', sans-serif;
 --font-body: 'Open Sans', sans-serif;

 /* Colores Principales */
 --color-primary: #27AE60;    /* Verde energético */
 --color-primary-dark: #219653;  /* Verde más oscuro */
 --color-primary-light: #58D68D; /* Verde más claro */
 
 --color-secondary: #2C3E50;   /* Azul oscuro */
 --color-secondary-dark: #1C2833; /* Azul más oscuro */
 --color-secondary-light: #34495E; /* Azul más claro */
 
 --color-accent1: #E74C3C;    /* Rojo */
 --color-accent1-dark: #C0392B;  /* Rojo más oscuro */
 
 --color-accent2: #F39C12;    /* Naranja */
 --color-accent2-dark: #D68910;  /* Naranja más oscuro */
 
 /* Colores Neutros */
 --color-gray-dark: #2C3E50;   /* Azul oscuro */
 --color-gray-medium: #7F8C8D;  /* Gris medio */
 --color-gray-light: #ECF0F1;   /* Gris muy claro */
 --color-white: #FFFFFF;
 --color-black: #000000;
 
 /* Colores de Estado */
 --color-success: #27AE60;
 --color-warning: #F39C12;
 --color-error: #E74C3C;
 --color-info: #df741c;
 
 /* =================================================================== */
 /* == 2. TOKENS SEMÁNTICOS (El "Panel de Control" de tu tema) == */
 /* =================================================================== */
 
 /* -- Fondos de Aplicación -- */
 --app-bg-primary: #F8F9FA;           /* Fondo principal de la app */
 --app-bg-secondary: var(--color-white);      /* Fondo de secciones o contenido */
 --app-bg-accent: var(--color-primary);      /* Fondo para banners o acentos */

 /* -- Texto -- */
 --app-text-primary: var(--color-gray-dark);    /* Texto de cuerpo principal */
 --app-text-secondary: var(--color-secondary);   /* Títulos y texto importante */
 --app-text-muted: var(--color-gray-medium);    /* Texto más claro o descriptivo */
 --app-text-accent: var(--color-primary);     /* Enlaces o texto destacado */
 --app-text-on-primary: var(--color-white);    /* Texto sobre fondos --app-bg-accent */
 --app-text-on-secondary: var(--color-white);   /* Texto sobre fondos --color-secondary */
 
 /* -- Estados de Texto -- */
 --app-text-success: var(--color-success);
 --app-text-warning: var(--color-warning);
 --app-text-error: var(--color-error);
 --app-text-info: var(--color-info);

 /* -- Botones Primarios -- */
 --button-primary-bg: var(--color-primary);
 --button-primary-bg-hover: var(--color-primary-dark);
 --button-primary-text: var(--color-white);
 
 /* -- Botones Secundarios -- */
 --button-secondary-bg: var(--color-secondary);
 --button-secondary-bg-hover: var(--color-secondary-dark);
 --button-secondary-text: var(--color-white);
 
 /* -- Botones de Contorno (Outline) -- */
 --button-outline-border: var(--color-primary);
 --button-outline-text: var(--color-primary);
 --button-outline-bg-hover: var(--color-primary);
 --button-outline-text-hover: var(--color-white);
 
 /* -- Tarjetas (Cards) -- */
 --card-bg: var(--color-white);
 --card-border: var(--color-gray-light);
 --card-shadow: var(--shadow-sm);
 --card-shadow-hover: var(--shadow-lg);
 --card-header-bg: var(--color-gray-light);
 
 /* -- Formularios (Inputs) -- */
 --input-bg: var(--color-white);
 --input-border: var(--color-gray-medium);
 --input-border-focus: var(--color-primary);
 --input-text: var(--color-gray-dark);
 --input-placeholder: var(--color-gray-medium);

 /* -- Paneles (Admin/Organizer) -- */
 --panel-sidebar-bg: var(--color-secondary-dark); /* Fondo oscuro para sidebars */
 --panel-sidebar-text: #ECF0F1;         /* Texto claro para sidebars */
 --panel-sidebar-link-hover: rgba(255, 255, 255, 0.1);
 --panel-sidebar-link-active-bg: var(--color-primary);
 --panel-sidebar-link-active-text: var(--color-white);

 /* =================================================================== */
 /* == 3. VALORES PRIMITIVOS DE LAYOUT (Espaciado, Sombras, etc.) == */
 /* =================================================================== */
 
 /* Espaciado */
 --spacing-xs: 0.25rem;
 --spacing-sm: 0.5rem;
 --spacing-md: 1rem;
 --spacing-lg: 1.5rem;
 --spacing-xl: 2rem;
 --spacing-2xl: 3rem;
 
 /* Radios de Borde */
 --border-radius-sm: 4px;
 --border-radius-md: 8px;
 --border-radius-lg: 12px;
 --border-radius-xl: 16px;
 
 /* Sombras */
 --shadow-sm: 0 2px 4px rgba(44, 62, 80, 0.1);
 --shadow-md: 0 4px 8px rgba(44, 62, 80, 0.1);
 --shadow-lg: 0 8px 16px rgba(44, 62, 80, 0.1);
 --shadow-xl: 0 12px 24px rgba(44, 62, 80, 0.15);
 
 /* Transiciones */
 --transition-fast: 0.2s ease;
 --transition-normal: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
 --transition-slow: 0.5s ease;
}

/* =================================================================== */
/* == MODO OSCURO (Sobrescritura de Tokens) == */
/* =================================================================== */

body.dark {
 /* -- Fondos de Aplicación -- */
 --app-bg-primary: #1C2833;
 --app-bg-secondary: #2C3E50;

 /* -- Texto -- */
 --app-text-primary: #ECF0F1;
 --app-text-secondary: #BDC3C7;
 --app-text-muted: #95A5A6;
 --app-text-on-secondary: #ECF0F1;

 /* -- Botones Secundarios -- */
 --button-secondary-bg: #34495E;
 --button-secondary-bg-hover: #4A657F;
 --button-secondary-text: #ECF0F1;

 /* -- Tarjetas (Cards) -- */
 --card-bg: #2C3E50;
 --card-border: #34495E;
 --card-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
 --card-shadow-hover: 0 8px 16px rgba(0, 0, 0, 0.3);
 --card-header-bg: #34495E;

 /* -- Formularios (Inputs) -- */
 --input-bg: #34495E;
 --input-border: #7F8C8D;
 --input-text: #ECF0F1;
 --input-placeholder: #7F8C8D;

 /* -- Paneles (Admin/Organizer) -- */
 --panel-sidebar-bg: #1C2833;
 --panel-sidebar-text: #ECF0F1;
 --panel-sidebar-link-hover: rgba(255, 255, 255, 0.1);
 --panel-sidebar-link-active-bg: var(--color-primary);
 --panel-sidebar-link-active-text: var(--color-white);
}

/* =================================================================== */
/* == KEYFRAMES (Animaciones Globales) == */
/* =================================================================== */

@keyframes fadeInScale {
 from {
  opacity: 0;
  transform: scale(0.8) translateY(20px);
 }
 to {
  opacity: 1;
  transform: scale(1) translateY(0);
 }
}

@keyframes textGlow {
 0%, 100% {
  text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
 }
 50% {
  text-shadow: 0 0 20px rgba(255, 107, 53, 0.8), 0 0 30px rgba(255, 107, 53, 0.6);
 }
}

@keyframes spin {
 0% { transform: rotate(0deg); }
 100% { transform: rotate(360deg); }
}

/* =================================================================== */
/* == ESTILOS BASE (HTML, Body, H1-H6, etc.) == */
/* =================================================================== */

*, *::before, *::after {
 box-sizing: border-box;
 margin: 0;
 padding: 0;
}

html {
 scroll-behavior: smooth;
 font-size: 16px;
}

body {
 font-family: var(--font-body);
 font-size: clamp(1rem, 1.5vw + 0.5rem, 1.125rem);
 line-height: 1.6;
 color: var(--app-text-primary);
 background: var(--app-bg-primary);
 -webkit-font-smoothing: antialiased;
 -moz-osx-font-smoothing: grayscale;
 overflow-x: hidden;
 transition: background var(--transition-normal), color var(--transition-normal);
}

h1, h2, h3, h4, h5, h6 {
 font-family: var(--font-heading);
 font-weight: 600;
 line-height: 1.2;
 margin-bottom: var(--spacing-md);
 color: var(--app-text-secondary);
}

h1 {
 font-size: clamp(2.5rem, 4vw + 1rem, 3.5rem);
 letter-spacing: 1px;
}

h2 {
 font-size: clamp(2rem, 3vw + 0.5rem, 2.5rem);
 letter-spacing: 0.5px;
}

h3 {
 font-size: clamp(1.5rem, 2.5vw + 0.5rem, 2rem);
}

h4 {
 font-size: clamp(1.25rem, 2vw + 0.5rem, 1.5rem);
}

h5 {
 font-size: clamp(1.1rem, 1.5vw + 0.5rem, 1.25rem);
}

h6 {
 font-size: clamp(1rem, 1.2vw + 0.5rem, 1rem);
}

p {
 margin-bottom: var(--spacing-md);
 line-height: 1.6;
}

a {
 color: var(--app-text-accent);
 text-decoration: none;
 transition: color var(--transition-fast);
}

a:hover {
 color: var(--app-text-secondary);
}

button {
 font-family: var(--font-body);
 cursor: pointer;
 border: none;
 border-radius: var(--border-radius-sm);
 font-weight: 600;
 transition: all var(--transition-normal);
}

img {
 max-width: 100%;
 height: auto;
 display: block;
}

.img-fluid {
 max-width: 100%;
 height: auto;
}

/* =================================================================== */
/* == CLASES DE COMPONENTES GLOBALES (.btn, .card, input) == */
/* =================================================================== */

.btn {
 display: inline-flex;
 align-items: center;
 justify-content: center;
 gap: var(--spacing-sm);
 padding: clamp(0.5rem, 1vw + 0.25rem, 0.75rem) clamp(1rem, 1.5vw + 0.5rem, 1.5rem);
 border: none;
 border-radius: var(--border-radius-sm);
 font-weight: 600;
 text-decoration: none;
 cursor: pointer;
 transition: all var(--transition-normal);
 font-size: clamp(0.9rem, 1vw + 0.5rem, 1rem);
 line-height: 1;
 position: relative;
 overflow: hidden;
 white-space: nowrap;
}

.btn:disabled {
 opacity: 0.6;
 cursor: not-allowed;
 transform: none !important;
}

.btn::before {
 content: '';
 position: absolute;
 top: 0;
 left: -100%;
 width: 100%;
 height: 100%;
 background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
 transition: left 0.5s;
}

.btn:hover::before {
 left: 100%;
}

.btn-primary {
 background-color: var(--button-primary-bg);
 color: var(--button-primary-text);
}

.btn-primary:hover:not(:disabled) {
 background-color: var(--button-primary-bg-hover);
 transform: translateY(-1px);
 box-shadow: var(--shadow-md);
}

.btn-secondary {
 background-color: var(--button-secondary-bg);
 color: var(--button-secondary-text);
}

.btn-secondary:hover:not(:disabled) {
 background-color: var(--button-secondary-bg-hover);
 transform: translateY(-1px);
 box-shadow: var(--shadow-md);
}

.btn-accent1 {
 background-color: var(--color-accent1);
 color: var(--color-white);
}

.btn-accent1:hover:not(:disabled) {
 background-color: var(--color-accent1-dark);
 transform: translateY(-1px);
 box-shadow: var(--shadow-md);
}

.btn-outline {
 background-color: transparent;
 color: var(--button-outline-text);
 border: 2px solid var(--button-outline-border);
}

.btn-outline:hover:not(:disabled) {
 background-color: var(--button-outline-bg-hover);
 color: var(--button-outline-text-hover);
 transform: translateY(-1px);
}

.btn-loading {
 position: relative;
 color: transparent !important; /* Asegura que el texto se oculte */
}

.btn-loading::after {
 content: '';
 position: absolute;
 width: 16px;
 height: 16px;
 top: calc(50% - 8px);
 left: calc(50% - 8px);
 border: 2px solid transparent;
 border-top: 2px solid currentColor; /* Usa el color del texto (que debería ser --button-primary-text) */
 border-radius: 50%;
 animation: spin 1s linear infinite;
}

/* -- Formularios -- */

.form-group {
 margin-bottom: var(--spacing-lg);
}

.form-label {
 display: block;
 margin-bottom: var(--spacing-sm);
 font-weight: 500;
 color: var(--app-text-primary);
}

input, select, textarea {
 font-family: var(--font-body);
 padding: 0.75rem;
 border: 1px solid var(--input-border);
 border-radius: var(--border-radius-sm);
 font-size: 1rem;
 transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
 width: 100%;
 background-color: var(--input-bg);
 color: var(--input-text);
}

input:focus, select:focus, textarea:focus {
 outline: none;
 border-color: var(--input-border-focus);
 box-shadow: 0 0 0 3px rgba(39, 174, 96, 0.1); /* Sombra de color primario */
}

.form-control:invalid {
 border-color: var(--color-error);
}

.form-control:valid {
 border-color: var(--color-success);
}

.form-error {
 color: var(--color-error);
 font-size: 0.875rem;
 margin-top: var(--spacing-xs);
}

/* -- Tarjetas (Cards) -- */

.card {
 background: var(--card-bg);
 border-radius: var(--border-radius-md);
 box-shadow: var(--card-shadow);
 border: 1px solid var(--card-border);
 transition: all var(--transition-normal);
 position: relative;
 overflow: hidden;
}

.card:hover {
 box-shadow: var(--card-shadow-hover);
 transform: translateY(-8px);
}

.card::after {
 content: '';
 position: absolute;
 top: 0;
 left: 0;
 right: 0;
 height: 3px;
 background: linear-gradient(90deg, var(--color-primary), var(--color-accent1));
 transform: scaleX(0);
 transition: transform var(--transition-normal);
}

.card:hover::after {
 transform: scaleX(1);
}

/* -- Tablas -- */

table {
 width: 100%;
 border-collapse: collapse;
 background-color: var(--card-bg);
 border-radius: var(--border-radius-md);
 overflow: hidden;
 box-shadow: var(--card-shadow);
}

th, td {
 padding: var(--spacing-md);
 text-align: left;
 border-bottom: 1px solid var(--card-border);
}

th {
 background-color: var(--card-header-bg);
 font-weight: 600;
 color: var(--app-text-primary);
 font-family: var(--font-heading);
}

/* =================================================================== */
/* == CLASES DE UTILIDAD (Layout, Flex, Grid, Spacing) == */
/* =================================================================== */

.container {
 max-width: 1200px;
 margin: 0 auto;
 padding: 0 clamp(1rem, 3vw, 2rem);
 width: 100%;
}

.container-fluid {
 width: 100%;
 padding: 0 clamp(1rem, 3vw, 2rem);
}

.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

/* ... (Resto de clases de utilidad .mb-*, .mt-*, .p-*, .flex, .grid, etc.) ... */
.mb-0 { margin-bottom: 0; }
.mb-1 { margin-bottom: var(--spacing-xs); }
.mb-2 { margin-bottom: var(--spacing-sm); }
.mb-3 { margin-bottom: var(--spacing-md); }
.mb-4 { margin-bottom: var(--spacing-lg); }
.mb-5 { margin-bottom: var(--spacing-xl); }

.mt-0 { margin-top: 0; }
.mt-1 { margin-top: var(--spacing-xs); }
.mt-2 { margin-top: var(--spacing-sm); }
.mt-3 { margin-top: var(--spacing-md); }
.mt-4 { margin-top: var(--spacing-lg); }
.mt-5 { margin-top: var(--spacing-xl); }

.p-0 { padding: 0; }
.p-1 { padding: var(--spacing-xs); }
.p-2 { padding: var(--spacing-sm); }
.p-3 { padding: var(--spacing-md); }
.p-4 { padding: var(--spacing-lg); }
.p-5 { padding: var(--spacing-xl); }

.flex { display: flex; }
.flex-column { flex-direction: column; }
.flex-row { flex-direction: row; }
.flex-wrap { flex-wrap: wrap; }
.flex-nowrap { flex-wrap: nowrap; }
.flex-center { 
 justify-content: center; 
 align-items: center;
}
.justify-between { justify-content: space-between; }
.justify-center { justify-content: center; }
.justify-end { justify-content: flex-end; }
.align-center { align-items: center; }
.align-start { align-items: flex-start; }
.align-end { align-items: flex-end; }

.grid { display: grid; }
.grid-2 { grid-template-columns: repeat(2, 1fr); }
.grid-3 { grid-template-columns: repeat(3, 1fr); }
.grid-auto { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
.gap-1 { gap: var(--spacing-xs); }
.gap-2 { gap: var(--spacing-sm); }
.gap-3 { gap: var(--spacing-md); }
.gap-4 { gap: var(--spacing-lg); }

.text-success { color: var(--app-text-success); }
.text-warning { color: var(--app-text-warning); }
.text-error { color: var(--app-text-error); }
.text-info { color: var(--app-text-info); }

.bg-success { background-color: var(--color-success); }
.bg-warning { background-color: var(--color-warning); }
.bg-error { background-color: var(--color-error); }
.bg-info { background-color: var(--color-info); }

.text-wrap {
 overflow-wrap: break-word;
 word-wrap: break-word;
 hyphens: auto;
}

.prevent-overflow {
 overflow: hidden;
 text-overflow: ellipsis;
 white-space: nowrap;
}

.responsive-grid {
 display: grid;
 grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr));
 gap: clamp(1rem, 2vw, 2rem);
}

.hidden { display: none; }
.visible { display: block; }
.d-inline { display: inline; }
.d-inline-block { display: inline-block; }

/* ... (Animaciones .animate-*, etc.) ... */
.animate-fadeIn {
 animation: fadeInScale 0.5s ease-out;
}

.animate-textGlow {
 animation: textGlow 2s ease-in-out infinite;
}

.animate-spin {
 animation: spin 1s linear infinite;
}

/* =================================================================== */
/* == ESTILOS DE NAVEGADOR Y ACCESIBILIDAD == */
/* =================================================================== */

::-webkit-scrollbar {
 width: 8px;
}

::-webkit-scrollbar-track {
 background: var(--card-border);
}

::-webkit-scrollbar-thumb {
 background: var(--app-text-accent);
 border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
 background: var(--button-primary-bg-hover);
}

@media (prefers-reduced-motion: reduce) {
 *,
 *::before,
 *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
 }
}

button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
 outline: 2px solid var(--input-border-focus);
 outline-offset: 2px;
}

/* =================================================================== */
/* == MEDIA QUERIES (Responsividad Base) == */
/* =================================================================== */

@media (max-width: 768px) {
 .container {
  padding: 0 var(--spacing-sm);
 }
 
 .flex-mobile-column {
  flex-direction: column;
 }
 
 .flex-mobile-center {
  justify-content: center;
  text-align: center;
 }
 
 .grid-2,
 .grid-3 {
  grid-template-columns: 1fr;
 }
 
 /* Previene el zoom en iOS en formularios */
 input,
 select,
 textarea {
  font-size: 16px;
 }
 
 /* Botones a ancho completo en móvil */
 .btn {
  width: 100%;
  justify-content: center;
 }
}

@media (max-width: 480px) {
 .min-height-mobile {
  min-height: calc(100vh - 140px);
 }
 
 .hidden-mobile {
  display: none;
 }
T .text-center-mobile {
  text-align: center;
 }
}

@media print {
 .no-print { 
  display: none !important; 
 }
 
 body {
  background: white !important;
   color: black !important;
  font-size: 12pt;
 }
 
 .btn { 
  display: none; 
 }
 
 .card {
  box-shadow: none;
  border: 1px solid #ccc;
 }
}

/* Utilidades de Performance */
.will-change-transform {
 will-change: transform;
}

.animate-transform {
 transform: translateZ(0);
}